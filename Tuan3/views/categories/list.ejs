<%- include('../layout', {title: typeof title !== 'undefined' ? title : 'Quáº£n lÃ½ danh má»¥c'}) %>
<style>
  .table-container {
    overflow-x: auto;
    margin-top: 20px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  thead {
    background: #1976d2;
    color: white;
  }

  th {
    padding: 15px;
    text-align: left;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.9em;
    letter-spacing: 0.5px;
  }

  td {
    padding: 15px;
    border-bottom: 1px solid #e0e0e0;
  }

  tbody tr:hover {
    background: #f8f9fa;
  }

  tbody tr:last-child td {
    border-bottom: none;
  }

  .actions {
    display: flex;
    gap: 10px;
    justify-content: center;
  }

  .empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #666;
  }

  .empty-state h2 {
    margin-bottom: 20px;
    color: #333;
  }

  .description {
    color: #666;
    font-size: 0.9em;
  }
</style>

<div class="page-header">
  <h2>ğŸ“ Quáº£n lÃ½ danh má»¥c</h2>
  <a href="/categories/create" class="btn">â• ThÃªm danh má»¥c má»›i</a>
</div>

<% if (categories.length === 0) { %>
  <div class="empty-state">
    <h2>ChÆ°a cÃ³ danh má»¥c nÃ o</h2>
    <p>HÃ£y thÃªm danh má»¥c Ä‘áº§u tiÃªn cá»§a báº¡n!</p>
    <a href="/categories/create" class="btn" style="margin-top: 20px;">ThÃªm danh má»¥c</a>
  </div>
<% } else { %>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>TÃªn danh má»¥c</th>
          <th>MÃ´ táº£</th>
          <th>Thao tÃ¡c</th>
        </tr>
      </thead>
      <tbody>
        <% categories.forEach(cat => { %>
          <tr>
            <td><strong><%= cat.name %></strong></td>
            <td class="description"><%= cat.description || 'KhÃ´ng cÃ³ mÃ´ táº£' %></td>
            <td>
              <div class="actions">
                <a href="/categories/edit/<%= cat.categoryId %>" class="btn btn-secondary" style="padding: 8px 16px; font-size: 14px;">âœï¸ Sá»­a</a>
                <form action="/categories/delete/<%= cat.categoryId %>" method="post" style="display: inline;">
                  <button type="submit" class="btn btn-danger" style="padding: 8px 16px; font-size: 14px;" 
                          onclick="return confirm('Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a danh má»¥c nÃ y?')">ğŸ—‘ï¸ XÃ³a</button>
                </form>
              </div>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
<% } %>

<div style="margin-top: 30px;">
  <a href="/" class="btn btn-secondary">â†©ï¸ Quay láº¡i danh sÃ¡ch sáº£n pháº©m</a>
</div>

<%- include('../footer') %>
